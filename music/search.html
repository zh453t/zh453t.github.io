<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>专辑/歌曲搜索</title>

		<script>
			(function () {
				const modernCSS = './search.css';
				const fallbackCSS = './search.compat.css'; // 兼容版 CSS

				const isNestingSupported = window.CSS.supports('selector(& > *)');

				const cssFileToLoad = isNestingSupported ? modernCSS : fallbackCSS;

				// 4. 使用 document.write() 同步写入 <link> 标签
				// 这可以确保 CSS 在页面渲染前被解析，防止 FOUC
				document.write('<link rel="stylesheet" href="' + cssFileToLoad + '">');
			})();
		</script>

		<base target="_blank" />
		<script type="module" src="./search.js"></script>
	</head>
	<body>
		<main>
			<h1>专辑 / 歌曲搜索</h1>
			<p>点击搜索结果可跳转至对应链接</p>

			<a class="donate" href="../donate.html">> 打赏</a>
			<form role="search">
				<input type="search" id="search-input" class="search-box" placeholder="输入搜索内容..." autofocus="" />

				<output for="search-input" class="results" aria-live="polite">
					<!-- 搜索结果将动态插入到这里 -->
				</output>
			</form>
		</main>
	</body>
</html>
